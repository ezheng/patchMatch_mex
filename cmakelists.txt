cmake_minimum_required(VERSION 2.7)
project(patchMatch)

#find_package(MATLAB REQUIRED)
set ( MATLAB_INCLUDE_DIR "C:/Program Files/MATLAB/R2011a/extern/include" )
set ( MATLAB_LIB_PATH "C:/Program Files/MATLAB/R2011a/extern/lib/win64/microsoft")
set ( OPENCV_LIB_PATH "C:/Enliang/library_64/opencv-2.4.2/build_64/install/lib")
set ( OPENCV_INCLUDE_DIR "C:/Enliang/library_64/opencv-2.4.2/build_64/install/include")

#--------------------------------------------------------------------------
include_directories(${MATLAB_INCLUDE_DIR}
					${OPENCV_INCLUDE_DIR})
link_directories(${MATLAB_LIB_PATH}
				${OPENCV_LIB_PATH}	)

add_library(patchMatch SHARED ${CMAKE_SOURCE_DIR}/mexFunction.def
			src/parseParms.h src/parseParms.cpp
			src/patchMatch.cpp
			src/dataType.h   src/dataType.cpp)
						  
target_link_libraries(patchMatch 
						libmex.lib libmx.lib
						debug opencv_core242d.lib  optimized opencv_core242.lib
						)
set_target_properties(patchMatch PROPERTIES SUFFIX  ".mexw64")